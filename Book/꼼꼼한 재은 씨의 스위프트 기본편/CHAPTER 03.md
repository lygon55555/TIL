# CHAPTER 03 – 화면상의 객체를 제어하는 방법

- @IBOutlet과 @IBAction
- 어노테이션(Annotation) : 변수나 메소드의 성격을 알려주는 역할. 단, 작업자에게 알려주는 것이 아니라 컴파일러에게 알려주는 역할.
- @IBOutlet은 프로퍼티에, @IBAction은 메소드에 각각 추가되는데, 이 어노테이션이 붙어있는 프로퍼티나 메소드는 인터페이스 빌더에 관련된 것이라는 의미  
→ 인터페이스 빌더의 객체를 참조하는 프로퍼티이거나, 인터페이스 빌더의 객체에서 일어나는 이벤트를 받는 메소드임을 표시
- 접우더 IB는 인터페이스 빌더(Interface Builder)를 의미

# 3.1 @IBOutlet과 @IBAction

- 연결된 정보들은 Xcode의 커넥션 어트리뷰트 탭에서 확인할 수 있음

## 3.1.1 @IBOutlet – 객체의 참조

- @IBOutlet은 화면상의 객체를 소스 코드에서 참조하기 위해 사용하는 어노테이션이고 주로 객체의 속성을 제어할 목적으로 클래스의 프로퍼티에 연결
- @IBOutlet으로 정의된 프로퍼티를 우리는 아울렛 변수라고 부름
- 일반적으로 변수나 상수는 다른 곳에서 참조되고 있을 경우 메모리에서 제거되지 않는 것이 원칙이지만, Weak 타입으로 선언된 변수나 상수는 다른 곳에서 참조되고 있더라도 시스템이 임의로 메모리에서 제거할 수 있음. 이로 인해 Weak 타입으로 선언된 변수나 상수에서는 간혹 저장해둔 값이 사라지는 현상이 발생하기도 함. 분명히 값을 할당했음에도 어느 순간 이유 없이 변수나 상수의 값이 nil로 바뀌어 있다면, 이는 Weak 타입으로 선언했기 때문일 가능성이 크다.
- 저장된 값이 지워질 수도 있는 불안함에도 불구하고 Weak 타입이 필요한 이유는 메모리 관리의 이슈 때문이다. Strong 타입 객체들끼리 상호 참조되는 일이 발생하는 경우, 어떤 경우에도 참조 카운트가 0이 되지 않으므로 애플리케이션이 실행되는 한 영원히 메모리에서 제거되지 않음. 이는 메모리 누수로 이어진다. 이때 상호 참조되는 객체의 어느 한쪽을 Weak 타입으로 지정하면 시스템에 의해 임의로 제거가 가능하므로 순환되는 상호 참조로부터 벗어날 수 있다. 이 과정을 충분히 이해하려면 ARC(Auto Referencing Counter)의 구조나 원리에 대한 폭넓은 이해가 필요한데, 애플에서 제공하는 ARC 관련 문서를 통해 확인할 수 있음.

## 3.1.2 @IBAction – 객체의 이벤트 제어

- @IBAction은 객체의 이벤트를 제어할 때 사용하는 어노테이션.  
이 어노테이션은 메소드와 함께 사용되는데, 우리는 이를 액션 메소드라고 부름.
- 예를 들어, 버튼 객체는 배경 색상, 크기, 모양, 선의 두께, 텍스트 내용, 노출 여부 등 정적인 상태를 표현할 수 있는 요소인 프로퍼티(Property)와 터치, 클릭, 드래그 등 동적인 상태를 처리하는 메소드를 가지고 있음
- 버튼의 외형 및 성질에 관한 값을 변경하려면 프로퍼티와 함께 사용되는 @IBOutlet을 사용해야 하고, 사용자의 액션이 발생했을 때 수행해야 하는 작업이 있다면 메소드와 함께 사용되는 @IBAction 어노테이션을 사용해야 함
- 프로그래밍에서 이벤트란 객체와 사용자 사이에 발생하는 상호 반응(버튼 터치, 드래그, 쓸어넘기기 등)을 말함
- 객체에 따라 지원하는 특정 이벤트들이 나뉘는데, 이들 객체가 지원하는 이벤트 목록은 커넥션 인스펙터(Connection Inspector)에서 확인할 수 있고 인터페이스 빌더에서 선택된 객체가 이벤트를 지원하면 커넥션 인스펙터에서 [Sent Events] 영역에 목록으로 표시됨

# 3.2 인터페이스 빌더 객체와 클래스를 연결하는 방법

## 3.2.4 보조 에디터를 사용하여 객체 연결하기

- 일반적으로 클래스에서 초기화되지 않은 프로퍼티는 모두 옵셔널이어야 하지만, 옵셔널로 선언하면 이후로 옵셔널 체인을 이용하여 구문을 작성해야 할 뿐만 아니라 옵셔널 체크가 필요한 부분도 많으므로 불편하다. 그 대신 묵시적 옵셔널 해제 연산자(!)를 붙여 정의해 두면 선언할 때에는 옵셔널 타입이지만 일반 타입처럼 사용할 수 있다는 장점이 생김.
