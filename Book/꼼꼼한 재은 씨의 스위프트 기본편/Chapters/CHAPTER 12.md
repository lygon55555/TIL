# CHAPTER 12 – 탭 바 컨트롤러

# 12.1 탭 바 컨트롤러

- 컨테이너 컨트롤러(Container Controller) : 직접 콘텐츠를 표현하지 않으면서 다른 뷰 컨트롤러를 유기적인 관계로 제어하는 역할을 하는 컨트롤러
- 내비게이션 컨트롤러는 위에서 아래로 향하는 뷰 컨트롤러 사이의 수직적 이동에 최적화되어 있음. 주로 상위 페이지에서 하위 페이지로의 이동

## 12.1.1 탭 바의 기본 개념

- 수평 관계를 이루는 화면들은 탭 바 컨트롤러에 의해 제어됨
- 일반 뷰 컨트롤러 앞에 내비게이션 컨트롤러를 삽입하고, 그 앞에 다시 탭 바 컨트롤러를 삽입하는 방식으로 작업하는 것이 효율적임

## 12.1.3 탭 바의 주요 기능

- 탭 바 컨트롤러와 뷰 컨트롤러 사이의 연결은 관계형 세그웨이(Relationship Segue)
- 개별 탭의 정보를 수정하려면 개별 뷰 컨트롤러에 있는 탭을 편집해야 함
- 탭 바에 연결된 특정 화면에 중요한 알림이 있거나 사용자에게 전달해야 하는 내용이 있을 경우 이를 숫자나 간단한 문자로 탭 바에 표시할 수 있음  배지(Badge)
- tabBarItem 객체 아래 badgeValue라는 문자열 타입의 속성이 배지값을 의미
- 탭 바에 5개 이상 탭을 추가하면 앞에서부터 순서대로 4개만 표시되고 그 다음 탭 대신 ‘More’이라는 타이틀의 탭이 추가됨

# 12.2 탭 바를 이용한 영화관 정보 제공

## 12.2.1 탭 바 컨트롤러 구성

- 탭 바 컨트롤러에 넣은 아이콘은 그림의 색 정보, 즉 Opaque는 무시되고 그림에 포함된 알파값만 표시됨. 즉, 원래의 색상은 무시되고 형태와 투명도 정도만 표시됨
- 탭 바에 들어가는 이미지는 탭 바에 맞춰서 리사이징(Re-Sizing) 되지 않는 특성이 있음. 따라서 이미지의 기본 크기인 가로세로 30픽셀에 맞춰서 만들어야 됨

# 12.3 영화관 목록 화면 구현하기

- 한글까지 문제없이 처리할 수 있는 호환 형식인 UTF-8과는 달리 EUC-KR은 데이터를 읽어올 때 인코딩 처리를 해야 함.
- NSString은 인코딩 처리가 가능한 구문을 지원
- 인자값으로 사용된 0x80_000_422는 EUC-KR 인코딩에 해당하는 16진수값이다. 값 사이에 들어간 언더바는 자리수를 알아보기 쉽게 나눈 것으로, 원래의 값인 0x80000422와 동일하다. 스위프트에서 숫자가 길어질 때 구분을 위해 쉼표 대신 넣을 수 있는 자리수 표기용 언더바는 원래의 값에 아무런 영향을 주지 않음.
- NSString으로 데이터를 읽어오면 Data 객체와 달리 문자열 형태로 반환됨
- 전달받은 데이터를 파싱해 보면 최상위 객체가 JSON 객체가 아닌 JSON 배열 타입으로 작성되어 있으므로 이와 호환되는 NSArray 객체로 캐스팅해야 함
- do ~ try 블록의 특징 중 하나는 진행 중간에 오류가 발생하면 이후의 구문 실행을 모두 건너뛰고 바로 catch 블록으로 실행 흐름을 옮겨간다
- 현실적으로 서버에서 일부 데이터에만 파싱 오류가 발생할 가능성이 적긴 하지만, 간혹 자바로 만들어진 서버에서 null 처리를 제대로 하지 않으면 특정 데이터에서만 파싱 오류가 발생하는 경우를 간혹 찾아볼 수 있음
